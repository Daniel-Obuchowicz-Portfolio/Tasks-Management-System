<div class="min-h-screen flex font-sans">

  <!-- Sidebar and Header -->
  <app-header [title]="'User Details'" [username]="username" class="min-h-screen bg-white shadow-lg"></app-header>

  <!-- Main Content -->
  <main class="flex-1 p-8 bg-custom-bg rounded-custom">
    <div class="w-full bg-white p-8 shadow-lg rounded-md mx-auto">
      <full-calendar [options]="calendarOptions"></full-calendar>
    </div>

    <!-- Event Action Modal -->
    <div *ngIf="isEventActionModalOpen" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-[99]">
      <div class="bg-white p-6 rounded shadow-lg max-w-md w-full">
        <h2 class="text-lg font-semibold mb-4">Event Actions</h2>
        <div class="mt-4 flex flex-col space-y-3">
          <button (click)="viewEvent()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">View</button>
          <button (click)="editEvent()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Edit</button>
          <button (click)="openDeleteModal()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">Delete</button>
          <button (click)="closeEventActionModal()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-400">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div *ngIf="isDeleteModalOpen" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-[99]">
      <div class="bg-white p-6 rounded shadow-lg max-w-md w-full">
        <h2 class="text-lg font-semibold mb-4">Confirm Delete</h2>
        <div class="mt-4 flex justify-between">
          <button (click)="confirmDelete()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">Confirm</button>
          <button (click)="closeDeleteModal()" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-400">Cancel</button>
        </div>
      </div>
    </div>

    <!-- View Modal -->
    <app-calendar-detail *ngIf="isViewModalOpen" [event]="eventToEditOrView" (close)="closeViewModal()"></app-calendar-detail>

    <!-- Edit Modal -->
    <app-edit-calendar *ngIf="isEditModalOpen" [event]="eventToEditOrView" (close)="closeEditModal()" (eventUpdated)="handleEventUpdate($event)"></app-edit-calendar>
  </main>

  <!-- Right Sidebar (Calendar) -->
  <aside class="w-72 bg-white p-6 hidden lg:block">
    <h2 class="text-lg font-semibold mb-6">Calendar</h2>
    <ul class="space-y-4 text-gray-700">
      <li>
        <span class="block text-sm text-gray-500 font-bold">10:00</span>
        <span>Dribbble shot Facebook Brand</span>
      </li>
      <li>
        <span class="block text-sm text-gray-500 font-bold">13:20</span>
        <span>Design Task Management</span>
      </li>
      <li>
        <span class="block text-sm text-gray-500 font-bold">15:00</span>
        <span>Mobile App Research</span>
      </li>
      <li>
        <span class="block text-sm text-gray-500 font-bold">10:00</span>
        <span>UX Research Sleep App</span>
      </li>
    </ul>
  </aside>
</div>
